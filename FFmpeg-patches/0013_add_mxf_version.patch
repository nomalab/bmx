diff --git a/libavformat/bmxenc.c b/libavformat/bmxenc.c
index da285c9cc9..1b74068539 100644
--- a/libavformat/bmxenc.c
+++ b/libavformat/bmxenc.c
@@ -30,6 +30,7 @@ static int bmx_writer_init(AVFormatContext *s)
     config.aes3 = bmx->aes3;
     config.kag_512 = bmx->kag_512;
     config.single_pass = bmx->single_pass;
+    config.smpte_st377m2004 = bmx->smpte_st377m2004;
     config.timecode = bmx->timecode;
     config.loose_checks = bmx->loose_checks;
 
@@ -297,6 +298,7 @@ static const AVOption options[] = {
     { "bmx_aes3", "Enable wrapping of audio in AES-3 pair", OFFSET(aes3), AV_OPT_TYPE_FLAGS, { .i64 = 0 }, 0, UINT_MAX, E},
     { "bmx_kag_512", "Enable KAG Size 512", OFFSET(kag_512), AV_OPT_TYPE_FLAGS, { .i64 = 0 }, 0, UINT_MAX, E},
     { "bmx_single_pass", "Enable single pass writing", OFFSET(single_pass), AV_OPT_TYPE_FLAGS, { .i64 = 0 }, 0, UINT_MAX, E},
+    { "bmx_smpte_st377m2004", "Set MXF version to SMPTE ST 377M-2004 (1.2)", OFFSET(smpte_st377m2004), AV_OPT_TYPE_FLAGS, { .i64 = 0 }, 0, UINT_MAX, E},
     { "bmx_part", "Video essence partition interval in frames", OFFSET(partition_size_in_frames), AV_OPT_TYPE_INT, {.i64 = -1 }, -1, INT_MAX, E},
     { NULL },
 };
diff --git a/libavformat/bmxenc.h b/libavformat/bmxenc.h
index 0aa31bd546..5151bebad0 100644
--- a/libavformat/bmxenc.h
+++ b/libavformat/bmxenc.h
@@ -18,6 +18,7 @@ typedef struct BMXContext {
     int ps_avcihead;
     int kag_512;
     int single_pass;
+    int smpte_st377m2004;
     void* internal_data;
     void** writers;
     const char* timecode;
